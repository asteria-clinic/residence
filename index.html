<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LIFF テスト</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body style="font-family: sans-serif; text-align: center; padding: 30px;">
  <h2>LIFFテスト：userIdの確認</h2>
  <p id="status">読み込み中...</p>

  <script>
    window.onload = async () => {
      try {
        // liff.init() はミニアプリでは不要
        const profile = await liff.getProfile();
        const userId = profile.userId;
        const displayName = profile.displayName;

        document.getElementById("status").innerHTML =
          `✅ userId: <code>${userId}</code><br>表示名: ${displayName}`;
      } catch (e) {
        console.error("LIFFエラー", e);
        document.getElementById("status").innerHTML =
          "❌ LIFFエラーが発生しました。<br>LINEアプリ内からミニアプリを開いていますか？";
      }
    };
  </script>
</body>
</html>
